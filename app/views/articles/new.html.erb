<div class="container-fluid">
  <%= form_for(@article) do |f| %>
    <div id="editor" class="row">
      <div class="col-md-4">
      <textarea id="text-area" name="article[content]" cols="30"
      rows="10" class="form-control" v-model="input" debounce='50'></textarea>
      </div>
      <div class="di_inline_t preview col-md-4">
        <div v-html='input | marked'></div>
      </div>
    </div>
    <%= f.submit "投稿", class: "btn btn-primary"%>
  <% end %>
</div>
<script src='https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.10/vue.js'></script>
<script type="text/javascript">
 window.onload = function() {
   new Vue({
     el: '#editor',
     data: {
       input: '<%== j @article.content %>',
     },
     filters: {
       marked: marked,
     },
     });
   };
</script>
